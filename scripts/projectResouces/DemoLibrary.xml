<?xml version="1.0" encoding="UTF-8"?>
<exportedData version="69" buildLabel="build_main_89270_2015.04.16_07:48:51" buildVersion="5.4.0.89270" passkey="3a3886d8cb32731243b7b4499509de784efbde96">
  <exportPath>/projects/DemoLibrary</exportPath>
  <project>
    <projectName>DemoLibrary</projectName>
    <description>Library of procedures used by the ElectricFlow Demo System.</description>
    <resourceName></resourceName>
    <tracked>0</tracked>
    <workspaceName></workspaceName>
    <propertySheet>
      <tracked>0</tracked>
    </propertySheet>
    <procedure>
      <procedureName>AdaptFile</procedureName>
      <description>Helper procedure to take an input file, run property path expansions on it, and save it to an output file.</description>
      <jobNameTemplate>adapt_file_$[/increment /server/ec_counters/jobCounter]_$[/timestamp yyyyMMddHHmmss]</jobNameTemplate>
      <resourceName></resourceName>
      <timeLimit></timeLimit>
      <timeLimitUnits>minutes</timeLimitUnits>
      <tracked>0</tracked>
      <workspaceName></workspaceName>
      <propertySheet>
        <tracked>0</tracked>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <tracked>0</tracked>
          <propertySheet>
            <tracked>0</tracked>
            <property>
              <propertyName>parameters</propertyName>
              <tracked>0</tracked>
              <propertySheet>
                <tracked>0</tracked>
                <property>
                  <propertyName>inputFile</propertyName>
                  <tracked>0</tracked>
                  <propertySheet>
                    <tracked>0</tracked>
                    <property>
                      <propertyName>formType</propertyName>
                      <counter>0</counter>
                      <expandable>1</expandable>
                      <tracked>0</tracked>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>outputFile</propertyName>
                  <tracked>0</tracked>
                  <propertySheet>
                    <tracked>0</tracked>
                    <property>
                      <propertyName>formType</propertyName>
                      <counter>0</counter>
                      <expandable>1</expandable>
                      <tracked>0</tracked>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>inputFile</formalParameterName>
        <defaultValue>/tmp/myapp.cfg.template</defaultValue>
        <description></description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <tracked>0</tracked>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>outputFile</formalParameterName>
        <defaultValue>/tmp/myapp.cfg</defaultValue>
        <description></description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <tracked>0</tracked>
        <type>entry</type>
      </formalParameter>
      <step>
        <stepName>Adapt File</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>use strict;&#10;use ElectricCommander ();&#10;$| = 1;&#10;my $ec = new ElectricCommander-&gt;new();&#10;&#10;open (INFILE, "$[inputFile]");&#10;&#10;local $/;&#10;my $config = &lt;INFILE&gt;;&#10;close INFILE;&#10;&#10;open (OUTFILE, "&gt;$[outputFile]");&#10;print OUTFILE $ec-&gt;expandString($config)-&gt;find("//value")-&gt;string_value;&#10;close OUTFILE;</command>
        <condition></condition>
        <description></description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <tracked>0</tracked>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
          <tracked>0</tracked>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>RunProcess</procedureName>
      <description>Helper procedure to run an application process and wait until its complete.</description>
      <jobNameTemplate>run_process_$[/increment /server/ec_counters/jobCounter]_$[/timestamp yyyyMMddHHmmss]</jobNameTemplate>
      <resourceName></resourceName>
      <timeLimit></timeLimit>
      <timeLimitUnits>minutes</timeLimitUnits>
      <tracked>0</tracked>
      <workspaceName></workspaceName>
      <propertySheet>
        <tracked>0</tracked>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <tracked>0</tracked>
          <propertySheet>
            <tracked>0</tracked>
            <property>
              <propertyName>parameters</propertyName>
              <tracked>0</tracked>
              <propertySheet>
                <tracked>0</tracked>
                <property>
                  <propertyName>abort_delete</propertyName>
                  <tracked>0</tracked>
                  <propertySheet>
                    <tracked>0</tracked>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <counter>0</counter>
                      <expandable>1</expandable>
                      <tracked>0</tracked>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <counter>0</counter>
                      <expandable>1</expandable>
                      <tracked>0</tracked>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <counter>0</counter>
                      <expandable>1</expandable>
                      <tracked>0</tracked>
                      <value>0</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <counter>0</counter>
                      <expandable>1</expandable>
                      <tracked>0</tracked>
                      <value>0</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>abort_first_job</propertyName>
                  <tracked>0</tracked>
                  <propertySheet>
                    <tracked>0</tracked>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <counter>0</counter>
                      <expandable>1</expandable>
                      <tracked>0</tracked>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <counter>0</counter>
                      <expandable>1</expandable>
                      <tracked>0</tracked>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <counter>0</counter>
                      <expandable>1</expandable>
                      <tracked>0</tracked>
                      <value>0</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <counter>0</counter>
                      <expandable>1</expandable>
                      <tracked>0</tracked>
                      <value>0</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>application</propertyName>
                  <tracked>0</tracked>
                  <propertySheet>
                    <tracked>0</tracked>
                    <property>
                      <propertyName>formType</propertyName>
                      <counter>0</counter>
                      <expandable>1</expandable>
                      <tracked>0</tracked>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>environment</propertyName>
                  <tracked>0</tracked>
                  <propertySheet>
                    <tracked>0</tracked>
                    <property>
                      <propertyName>formType</propertyName>
                      <counter>0</counter>
                      <expandable>1</expandable>
                      <tracked>0</tracked>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>mapping</propertyName>
                  <tracked>0</tracked>
                  <propertySheet>
                    <tracked>0</tracked>
                    <property>
                      <propertyName>formType</propertyName>
                      <counter>0</counter>
                      <expandable>1</expandable>
                      <tracked>0</tracked>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>parameters</propertyName>
                  <tracked>0</tracked>
                  <propertySheet>
                    <tracked>0</tracked>
                    <property>
                      <propertyName>formType</propertyName>
                      <counter>0</counter>
                      <expandable>1</expandable>
                      <tracked>0</tracked>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>process</propertyName>
                  <tracked>0</tracked>
                  <propertySheet>
                    <tracked>0</tracked>
                    <property>
                      <propertyName>formType</propertyName>
                      <counter>0</counter>
                      <expandable>1</expandable>
                      <tracked>0</tracked>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>project</propertyName>
                  <tracked>0</tracked>
                  <propertySheet>
                    <tracked>0</tracked>
                    <property>
                      <propertyName>formType</propertyName>
                      <counter>0</counter>
                      <expandable>1</expandable>
                      <tracked>0</tracked>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>two_jobs</propertyName>
                  <tracked>0</tracked>
                  <propertySheet>
                    <tracked>0</tracked>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <counter>0</counter>
                      <expandable>1</expandable>
                      <tracked>0</tracked>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <counter>0</counter>
                      <expandable>1</expandable>
                      <tracked>0</tracked>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <counter>0</counter>
                      <expandable>1</expandable>
                      <tracked>0</tracked>
                      <value>0</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <counter>0</counter>
                      <expandable>1</expandable>
                      <tracked>0</tracked>
                      <value>0</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>abort_delete</formalParameterName>
        <defaultValue>0</defaultValue>
        <description>Temporary workaround for CEV-5368.</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <tracked>0</tracked>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>application</formalParameterName>
        <defaultValue></defaultValue>
        <description>Application Name</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <tracked>0</tracked>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>environment</formalParameterName>
        <defaultValue></defaultValue>
        <description></description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <tracked>0</tracked>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>parameters</formalParameterName>
        <defaultValue></defaultValue>
        <description>Perl snipped inserted directly in $ec-&gt;runProcess.</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <tracked>0</tracked>
        <type>textarea</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>process</formalParameterName>
        <defaultValue>Deploy</defaultValue>
        <description>Application process name</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <tracked>0</tracked>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>project</formalParameterName>
        <defaultValue>Default</defaultValue>
        <description></description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <tracked>0</tracked>
        <type>entry</type>
      </formalParameter>
      <step>
        <stepName>Run</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>use strict;&#10;use ElectricCommander ();&#10;$| = 1;&#10;my $ec = new ElectricCommander-&gt;new();&#10;my $jobId = $ec-&gt;runProcess({&#10;	projectName =&gt; "$[project]",&#10;    applicationName =&gt; "$[application]",&#10;    processName =&gt; "$[process]",&#10;    tierMapName =&gt; "$[application]-$[environment]"$[parameters]&#10;})-&gt;findvalue('//jobId');&#10;if ($[abort_delete]) {&#10;    $ec-&gt;abortJob($jobId, {force =&gt; 1});&#10;    $ec-&gt;deleteJob($jobId);&#10;    exit 0;&#10;}&#10;$ec-&gt;waitForJob($jobId, {timeout=&gt;100});&#10;my $outcome = $ec-&gt;getJobInfo($jobId)-&gt;findvalue("//outcome")-&gt;value();&#10;if ($outcome eq "error") {&#10;    $ec-&gt;setProperty("summary", "Application process failed!");&#10;    exit 1;&#10;}</command>
        <condition></condition>
        <description></description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <tracked>0</tracked>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
          <tracked>0</tracked>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>SetupUseCase_Heat</procedureName>
      <description>Run this procedure to setup your system for the Heat Clinic end-to-end use case.</description>
      <jobNameTemplate>setup_heat_$[/increment /server/ec_counters/jobCounter]_$[/timestamp yyyyMMddHHmmss]</jobNameTemplate>
      <resourceName></resourceName>
      <timeLimit></timeLimit>
      <timeLimitUnits>minutes</timeLimitUnits>
      <tracked>0</tracked>
      <workspaceName></workspaceName>
      <propertySheet>
        <tracked>0</tracked>
      </propertySheet>
      <step>
        <stepName>start_jboss</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <condition></condition>
        <description></description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <parallel>0</parallel>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <subprocedure>SwitchAppServer</subprocedure>
        <subproject></subproject>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <tracked>0</tracked>
        <workspaceName></workspaceName>
        <actualParameters>
          <tracked>0</tracked>
          <property>
            <propertyName>application_server</propertyName>
            <counter>0</counter>
            <expandable>1</expandable>
            <tracked>0</tracked>
            <value>jboss</value>
          </property>
        </actualParameters>
        <propertySheet>
          <tracked>0</tracked>
        </propertySheet>
      </step>
      <step>
        <stepName>create_build_resource</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>ectool deleteResource buildr&#10;ectool createResource buildr --hostName localhost --stepLimit 1</command>
        <condition></condition>
        <description></description>
        <errorHandling>abortProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell></shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <tracked>0</tracked>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
          <tracked>0</tracked>
        </propertySheet>
      </step>
      <step>
        <stepName>create_environments</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>use strict;&#10;use ElectricCommander ();&#10;$| = 1;&#10;my $ec = new ElectricCommander-&gt;new();&#10;&#10;# Make sure these are in the order to be viewed in the Full Inventory&#10;my @environments = ("HCDEV","HCTEST","HCSTAGE","HCPROD");&#10;my @tiers = ("JBoss","Apache","MySQL");&#10;&#10;my $envIndex=1;&#10;foreach my $environment (@environments) {&#10;	$ec-&gt;deleteEnvironment("Default", $environment);&#10;	$ec-&gt;createEnvironment("Default", $environment);&#10;	$ec-&gt;setProperty("IP", randomIP() ,{projectName =&gt; "Default", environmentName =&gt; $environment});&#10;	$ec-&gt;setProperty("port", randomPort() ,{projectName =&gt; "Default", environmentName =&gt; $environment});&#10;	$ec-&gt;setProperty("pipeStage", $envIndex++ ,{projectName =&gt; "Default", environmentName =&gt; $environment});&#10;&#10;	foreach my $tier (@tiers) {&#10;		$ec-&gt;createEnvironmentTier("Default", $environment, $tier);&#10;		$ec-&gt;deleteResource("${environment}_${tier}");&#10;		$ec-&gt;createResource("${environment}_${tier}", {hostName=&gt;"localhost",stepLimit=&gt;1});&#10;		$ec-&gt;addResourceToEnvironmentTier("${environment}_${tier}", "Default", $environment, $tier);&#10;	}&#10;}&#10;&#10;sub randomIP {&#10; return int(rand(255)).".".int(rand(255)).".".int(rand(255)).".".int(rand(255));&#10;}&#10;&#10;sub randomPort {&#10; return 5000+int(rand(4999));&#10;}</command>
        <condition></condition>
        <description></description>
        <errorHandling>abortProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <tracked>0</tracked>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
          <tracked>0</tracked>
        </propertySheet>
      </step>
      <step>
        <stepName>import_application</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>ectool deleteApplication Default "Heat Clinic"&#10;ectool import "$PWD/../Heat_Clinic.xml" --path "/projects/Default/applications/Heat Clinic" --force true</command>
        <condition></condition>
        <description></description>
        <errorHandling>abortProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell></shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <tracked>0</tracked>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
          <tracked>0</tracked>
        </propertySheet>
      </step>
      <step>
        <stepName>initial_commit</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command># Check out dev version&#10;echo "Check out dev version"&#10;cd /tmp&#10;rm -rf DemoSite&#10;svn checkout --quiet file:///opt/svn/DemoSite&#10;rm -rf DemoSite-dev&#10;mv DemoSite DemoSite-dev&#10;# Do a dummy check in&#10;echo "Do a dummy check in"&#10;cd DemoSite-dev&#10;svn commit -m 'Dummy checkin' site/src/main/resources/messages.properties&#10;</command>
        <condition></condition>
        <description></description>
        <errorHandling>abortProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell></shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <tracked>0</tracked>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
          <tracked>0</tracked>
        </propertySheet>
      </step>
      <step>
        <stepName>dummy_commit</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>cd /tmp/DemoSite-dev&#10;echo '#' &gt;&gt; site/src/main/resources/messages.properties&#10;svn commit \&#10;  -m 'Dummy checkin' \&#10;  site/src/main/resources/messages.properties</command>
        <condition></condition>
        <description></description>
        <errorHandling>abortProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell></shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <tracked>0</tracked>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
          <tracked>0</tracked>
        </propertySheet>
      </step>
      <step>
        <stepName>introduce_typo</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <condition></condition>
        <description></description>
        <errorHandling>abortProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <parallel>0</parallel>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <subprocedure>Simulate Commit With Error</subprocedure>
        <subproject>Heat Clinic</subproject>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <tracked>0</tracked>
        <workspaceName></workspaceName>
        <actualParameters>
          <tracked>0</tracked>
          <property>
            <propertyName>commitMessage</propertyName>
            <counter>0</counter>
            <expandable>1</expandable>
            <tracked>0</tracked>
            <value>Introduce typo, autopromote</value>
          </property>
        </actualParameters>
        <propertySheet>
          <tracked>0</tracked>
        </propertySheet>
      </step>
      <step>
        <stepName>build</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <condition></condition>
        <description></description>
        <errorHandling>abortProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <parallel>0</parallel>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <subprocedure>Build Site</subprocedure>
        <subproject>Heat Clinic</subproject>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <tracked>0</tracked>
        <workspaceName></workspaceName>
        <actualParameters>
          <tracked>0</tracked>
          <property>
            <propertyName>application</propertyName>
            <counter>0</counter>
            <expandable>1</expandable>
            <tracked>0</tracked>
            <value>Heat Clinic</value>
          </property>
          <property>
            <propertyName>ec_ci_configurationName</propertyName>
            <counter>0</counter>
            <expandable>1</expandable>
            <tracked>0</tracked>
            <value>trunk</value>
          </property>
          <property>
            <propertyName>ec_ci_preflight</propertyName>
            <counter>0</counter>
            <expandable>1</expandable>
            <tracked>0</tracked>
            <value>0</value>
          </property>
          <property>
            <propertyName>ec_ci_projectName</propertyName>
            <counter>0</counter>
            <expandable>1</expandable>
            <tracked>0</tracked>
            <value>Heat Clinic</value>
          </property>
          <property>
            <propertyName>launch_pipeline</propertyName>
            <counter>0</counter>
            <expandable>1</expandable>
            <tracked>0</tracked>
            <value>0</value>
          </property>
        </actualParameters>
        <propertySheet>
          <tracked>0</tracked>
        </propertySheet>
      </step>
      <step>
        <stepName>deploy_to_dev</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <condition></condition>
        <description>This first job needs to be aborted and deleted because of CEV-5368.  Temporary workaround.</description>
        <errorHandling>abortProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <parallel>0</parallel>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <subprocedure>RunProcess</subprocedure>
        <subproject></subproject>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <tracked>0</tracked>
        <workspaceName></workspaceName>
        <actualParameters>
          <tracked>0</tracked>
          <property>
            <propertyName>abort_delete</propertyName>
            <counter>0</counter>
            <expandable>1</expandable>
            <tracked>0</tracked>
            <value>1</value>
          </property>
          <property>
            <propertyName>application</propertyName>
            <counter>0</counter>
            <expandable>1</expandable>
            <tracked>0</tracked>
            <value>Heat Clinic</value>
          </property>
          <property>
            <propertyName>environment</propertyName>
            <counter>0</counter>
            <expandable>1</expandable>
            <tracked>0</tracked>
            <value>HCTEST</value>
          </property>
          <property>
            <propertyName>parameters</propertyName>
            <counter>0</counter>
            <expandable>1</expandable>
            <tracked>0</tracked>
            <value></value>
          </property>
          <property>
            <propertyName>process</propertyName>
            <counter>0</counter>
            <expandable>1</expandable>
            <tracked>0</tracked>
            <value>Deploy</value>
          </property>
          <property>
            <propertyName>project</propertyName>
            <counter>0</counter>
            <expandable>1</expandable>
            <tracked>0</tracked>
            <value>Default</value>
          </property>
        </actualParameters>
        <propertySheet>
          <tracked>0</tracked>
        </propertySheet>
      </step>
      <step>
        <stepName>create_notifiers</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>function create_notifier {&#10;    dollar='$'&#10;&#10;    ectool --silent createEmailNotifier "success-$1-$2" --projectName Default --applicationName "Heat Clinic" --processName Deploy --notificationType "success" --configName "default" --userName "$1" --formattingTemplate "Subject: ElectricFlow: $dollar[/myProcess] succeeded for $dollar[/myApplication] on $dollar[/myEnvironment]&#10;&#10;$dollar[/server/flow_demo/deploy_success_notifier]" --destinations NULL --environmentNames "$2"&#10;&#10;    ectool --silent createEmailNotifier "failure-$1-$2" --projectName Default --applicationName "Heat Clinic" --processName Deploy --notificationType "failure" --configName "default" --userName "$1" --formattingTemplate "Subject: ElectricFlow: $dollar[/myProcess] failed for $dollar[/myApplication] on $dollar[/myEnvironment]&#10;&#10;$dollar[/server/flow_demo/deploy_failure_notifier]" --destinations NULL --environmentNames "$2"&#10;}&#10;create_notifier raj HCDEV&#10;create_notifier raj HCSTAGE&#10;create_notifier raj HCPROD&#10;create_notifier raj HCTEST&#10;ectool --silent setProperty "/projects/Default/applications/Heat Clinic/ec_deploy/ec_notifierStatus" 1&#10;ectool --silent setProperty "/projects/Default/applications/Heat Clinic/processes/Deploy/ec_deploy/ec_notifierStatus" 1&#10;</command>
        <condition></condition>
        <description></description>
        <errorHandling>abortProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell>bash</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <tracked>0</tracked>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
          <tracked>0</tracked>
        </propertySheet>
      </step>
      <step>
        <stepName>deploy_to_test</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <condition></condition>
        <description></description>
        <errorHandling>abortProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <parallel>0</parallel>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <subprocedure>RunProcess</subprocedure>
        <subproject></subproject>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <tracked>0</tracked>
        <workspaceName></workspaceName>
        <actualParameters>
          <tracked>0</tracked>
          <property>
            <propertyName>abort_delete</propertyName>
            <counter>0</counter>
            <expandable>1</expandable>
            <tracked>0</tracked>
            <value>0</value>
          </property>
          <property>
            <propertyName>application</propertyName>
            <counter>0</counter>
            <expandable>1</expandable>
            <tracked>0</tracked>
            <value>Heat Clinic</value>
          </property>
          <property>
            <propertyName>environment</propertyName>
            <counter>0</counter>
            <expandable>1</expandable>
            <tracked>0</tracked>
            <value>HCTEST</value>
          </property>
          <property>
            <propertyName>parameters</propertyName>
            <counter>0</counter>
            <expandable>1</expandable>
            <tracked>0</tracked>
            <value></value>
          </property>
          <property>
            <propertyName>process</propertyName>
            <counter>0</counter>
            <expandable>1</expandable>
            <tracked>0</tracked>
            <value>Deploy</value>
          </property>
          <property>
            <propertyName>project</propertyName>
            <counter>0</counter>
            <expandable>1</expandable>
            <tracked>0</tracked>
            <value>Default</value>
          </property>
        </actualParameters>
        <propertySheet>
          <tracked>0</tracked>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>SetupUseCase_Heat_60Pipeline</procedureName>
      <description>Use EF 6.0 Pipeline instead of workflow</description>
      <jobNameTemplate></jobNameTemplate>
      <resourceName></resourceName>
      <timeLimit></timeLimit>
      <timeLimitUnits>minutes</timeLimitUnits>
      <tracked>0</tracked>
      <workspaceName></workspaceName>
      <propertySheet>
        <tracked>0</tracked>
      </propertySheet>
      <step>
        <stepName>Setup and Create Pipeline</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>cd /vagrant/demo/pipelines&#10;ectool evalDsl --dslFile modifyHeatClinicProjectForPipeline.groovy</command>
        <condition></condition>
        <description></description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell></shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <tracked>0</tracked>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
          <tracked>0</tracked>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>SetupUseCase_IT</procedureName>
      <description>Run this procedure to setup your system for the IT use case.  It will do all necessary setup tasks like creating the ServiceNow ticket, setting the environment inventories for SFDEV+SFQA+SFPROD, creating homepage shortcuts, and so on.</description>
      <jobNameTemplate>setup_it_$[/increment /server/ec_counters/jobCounter]_$[/timestamp yyyyMMddHHmmss]</jobNameTemplate>
      <resourceName></resourceName>
      <timeLimit></timeLimit>
      <timeLimitUnits>minutes</timeLimitUnits>
      <tracked>0</tracked>
      <workspaceName></workspaceName>
      <propertySheet>
        <tracked>0</tracked>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <tracked>0</tracked>
          <propertySheet>
            <tracked>0</tracked>
            <property>
              <propertyName>parameters</propertyName>
              <tracked>0</tracked>
              <propertySheet>
                <tracked>0</tracked>
                <property>
                  <propertyName>service_now</propertyName>
                  <tracked>0</tracked>
                  <propertySheet>
                    <tracked>0</tracked>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <counter>0</counter>
                      <expandable>1</expandable>
                      <tracked>0</tracked>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <counter>0</counter>
                      <expandable>1</expandable>
                      <tracked>0</tracked>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <counter>0</counter>
                      <expandable>1</expandable>
                      <tracked>0</tracked>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <counter>0</counter>
                      <expandable>1</expandable>
                      <tracked>0</tracked>
                      <value>0</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>service_now</formalParameterName>
        <defaultValue>1</defaultValue>
        <description>If checked, a ServiceNow ticket will be created and updated during the demo.  If you do not have internet access, uncheck this -- a link will still be created, showing screenshots of a ticket.</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <tracked>0</tracked>
        <type>checkbox</type>
      </formalParameter>
      <step>
        <stepName>start_jboss</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <condition></condition>
        <description></description>
        <errorHandling>abortProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <parallel>0</parallel>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <subprocedure>SwitchAppServer</subprocedure>
        <subproject></subproject>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <tracked>0</tracked>
        <workspaceName></workspaceName>
        <actualParameters>
          <tracked>0</tracked>
          <property>
            <propertyName>application_server</propertyName>
            <counter>0</counter>
            <expandable>1</expandable>
            <tracked>0</tracked>
            <value>jboss</value>
          </property>
        </actualParameters>
        <propertySheet>
          <tracked>0</tracked>
        </propertySheet>
      </step>
      <step>
        <stepName>create_environments</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>use strict;&#10;use ElectricCommander ();&#10;$| = 1;&#10;my $ec = new ElectricCommander-&gt;new();&#10;&#10;# Make sure these are in the order to be viewed in the Full Inventory&#10;my @environments = ("SFDEV","SFQA","SFPROD");&#10;my @tiers = ("BE JBoss","FE JBoss","Oracle");&#10;&#10;my $envIndex=1;&#10;foreach my $environment (@environments) {&#10;	$ec-&gt;deleteEnvironment("Default", $environment);&#10;	$ec-&gt;createEnvironment("Default", $environment);&#10;	$ec-&gt;setProperty("pipeStage", $envIndex++ ,{projectName =&gt; "Default", environmentName =&gt; $environment});&#10;	foreach my $tier (@tiers) {&#10;		$ec-&gt;createEnvironmentTier("Default", $environment, $tier);&#10;		$ec-&gt;deleteResource("${environment}_${tier}");&#10;		$ec-&gt;createResource("${environment}_${tier}", {hostName=&gt;"localhost",stepLimit=&gt;1});&#10;		$ec-&gt;addResourceToEnvironmentTier("${environment}_${tier}", "Default", $environment, $tier);&#10;	}&#10;}&#10;</command>
        <condition></condition>
        <description></description>
        <errorHandling>abortProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <tracked>0</tracked>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
          <tracked>0</tracked>
        </propertySheet>
      </step>
      <step>
        <stepName>import_application</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>ectool deleteApplication Default "Store Front"&#10;ectool import "$PWD/../Store_Front.xml" --path "/projects/Default/applications/Store Front" --force true</command>
        <condition></condition>
        <description></description>
        <errorHandling>abortProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell></shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <tracked>0</tracked>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
          <tracked>0</tracked>
        </propertySheet>
      </step>
      <step>
        <stepName>add_databases</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>for db in SFDEV SFQA SFPROD&#10;do&#10;&#10;	/usr/local/mysql/bin/mysql -u root --password=flow -e 'show databases;' | grep $db &amp;&amp; /usr/local/mysql/bin/mysql -u root --password=flow -e "drop database $db;" || echo $db does not exist&#10;&#10;	/usr/local/mysql/bin/mysql -u root --password=flow -e "create database $db;"&#10;&#10;	/usr/local/mysql/bin/mysql -u root --password=flow -e "&#10;	use $db;&#10;	CREATE TABLE _meta (version int);&#10;	INSERT INTO _meta VALUES(1);&#10;	SELECT version FROM _meta;&#10;	"&#10;&#10;	/usr/local/mysql/bin/mysql -u root --password=flow -e "&#10;	use $db;&#10;	CREATE TABLE merchandise&#10;	 (&#10;	name varchar(255),&#10;	type varchar(255),&#10;	price int(255)&#10;	 );&#10;	INSERT INTO merchandise VALUES(\"Bookend\",\"Wood\",1250);&#10;	SELECT * FROM merchandise;&#10;	"&#10;&#10;done</command>
        <condition></condition>
        <description></description>
        <errorHandling>abortProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell></shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <tracked>0</tracked>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
          <tracked>0</tracked>
        </propertySheet>
      </step>
      <step>
        <stepName>create_notifiers</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>function create_notifier {&#10;    dollar='$'&#10;&#10;    ectool --silent createEmailNotifier "success-$1-$2" --projectName Default --applicationName "Store Front" --processName Deploy --notificationType "success" --configName "default" --userName "$1" --formattingTemplate "Subject: ElectricFlow: $dollar[/myProcess] succeeded for $dollar[/myApplication] on $dollar[/myEnvironment]&#10;&#10;$dollar[/server/flow_demo/deploy_success_notifier]" --destinations NULL --environmentNames "$2"&#10;&#10;    ectool --silent createEmailNotifier "failure-$1-$2" --projectName Default --applicationName "Store Front" --processName Deploy --notificationType "failure" --configName "default" --userName "$1" --formattingTemplate "Subject: ElectricFlow: $dollar[/myProcess] failed for $dollar[/myApplication] on $dollar[/myEnvironment]&#10;&#10;$dollar[/server/flow_demo/deploy_failure_notifier]" --destinations NULL --environmentNames "$2"&#10;}&#10;create_notifier dave SFDEV&#10;create_notifier quinn SFQA&#10;create_notifier ingrid SFPROD&#10;create_notifier raj SFDEV&#10;create_notifier raj SFQA&#10;create_notifier raj SFPROD&#10;ectool --silent setProperty "/projects/Default/applications/Store Front/ec_deploy/ec_notifierStatus" 1&#10;ectool --silent setProperty "/projects/Default/applications/Store Front/processes/Deploy/ec_deploy/ec_notifierStatus" 1&#10;</command>
        <condition></condition>
        <description></description>
        <errorHandling>abortProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell>bash</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <tracked>0</tracked>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
          <tracked>0</tracked>
        </propertySheet>
      </step>
      <step>
        <stepName>Dummy deploy</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <condition></condition>
        <description></description>
        <errorHandling>abortProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <parallel>0</parallel>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <subprocedure>RunProcess</subprocedure>
        <subproject></subproject>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <tracked>0</tracked>
        <workspaceName></workspaceName>
        <actualParameters>
          <tracked>0</tracked>
          <property>
            <propertyName>abort_delete</propertyName>
            <counter>0</counter>
            <expandable>1</expandable>
            <tracked>0</tracked>
            <value>1</value>
          </property>
          <property>
            <propertyName>application</propertyName>
            <counter>0</counter>
            <expandable>1</expandable>
            <tracked>0</tracked>
            <value>Store Front</value>
          </property>
          <property>
            <propertyName>environment</propertyName>
            <counter>0</counter>
            <expandable>1</expandable>
            <tracked>0</tracked>
            <value>SFDEV</value>
          </property>
          <property>
            <propertyName>parameters</propertyName>
            <counter>0</counter>
            <expandable>1</expandable>
            <tracked>0</tracked>
            <value>,&#10;  actualParameter =&gt; [&#10;    {actualParameterName =&gt; "ec_FE App-version", value =&gt; "2.0.0"},&#10;    {actualParameterName =&gt; "ec_Schema-version", value =&gt; "2.0.0"},&#10;    {actualParameterName =&gt; "ec_smartDeployOption", value =&gt; "0"},&#10;  ]</value>
          </property>
          <property>
            <propertyName>process</propertyName>
            <counter>0</counter>
            <expandable>1</expandable>
            <tracked>0</tracked>
            <value>Deploy</value>
          </property>
          <property>
            <propertyName>project</propertyName>
            <counter>0</counter>
            <expandable>1</expandable>
            <tracked>0</tracked>
            <value>Default</value>
          </property>
        </actualParameters>
        <propertySheet>
          <tracked>0</tracked>
        </propertySheet>
      </step>
      <step>
        <stepName>deploy_to_dev</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <condition></condition>
        <description></description>
        <errorHandling>abortProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <parallel>0</parallel>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <subprocedure>RunProcess</subprocedure>
        <subproject></subproject>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <tracked>0</tracked>
        <workspaceName></workspaceName>
        <actualParameters>
          <tracked>0</tracked>
          <property>
            <propertyName>abort_delete</propertyName>
            <counter>0</counter>
            <expandable>1</expandable>
            <tracked>0</tracked>
            <value>0</value>
          </property>
          <property>
            <propertyName>application</propertyName>
            <counter>0</counter>
            <expandable>1</expandable>
            <tracked>0</tracked>
            <value>Store Front</value>
          </property>
          <property>
            <propertyName>environment</propertyName>
            <counter>0</counter>
            <expandable>1</expandable>
            <tracked>0</tracked>
            <value>SFDEV</value>
          </property>
          <property>
            <propertyName>parameters</propertyName>
            <counter>0</counter>
            <expandable>1</expandable>
            <tracked>0</tracked>
            <value>,&#10;  actualParameter =&gt; [&#10;    {actualParameterName =&gt; "ec_FE App-version", value =&gt; "2.0.0"},&#10;    {actualParameterName =&gt; "ec_Schema-version", value =&gt; "2.0.0"},&#10;    {actualParameterName =&gt; "ec_smartDeployOption", value =&gt; "0"},&#10;  ]</value>
          </property>
          <property>
            <propertyName>process</propertyName>
            <counter>0</counter>
            <expandable>1</expandable>
            <tracked>0</tracked>
            <value>Deploy</value>
          </property>
          <property>
            <propertyName>project</propertyName>
            <counter>0</counter>
            <expandable>1</expandable>
            <tracked>0</tracked>
            <value>Default</value>
          </property>
        </actualParameters>
        <propertySheet>
          <tracked>0</tracked>
        </propertySheet>
      </step>
      <step>
        <stepName>deploy_to_test</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <condition></condition>
        <description></description>
        <errorHandling>abortProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <parallel>0</parallel>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <subprocedure>RunProcess</subprocedure>
        <subproject></subproject>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <tracked>0</tracked>
        <workspaceName></workspaceName>
        <actualParameters>
          <tracked>0</tracked>
          <property>
            <propertyName>abort_delete</propertyName>
            <counter>0</counter>
            <expandable>1</expandable>
            <tracked>0</tracked>
            <value>0</value>
          </property>
          <property>
            <propertyName>application</propertyName>
            <counter>0</counter>
            <expandable>1</expandable>
            <tracked>0</tracked>
            <value>Store Front</value>
          </property>
          <property>
            <propertyName>environment</propertyName>
            <counter>0</counter>
            <expandable>1</expandable>
            <tracked>0</tracked>
            <value>SFQA</value>
          </property>
          <property>
            <propertyName>parameters</propertyName>
            <counter>0</counter>
            <expandable>1</expandable>
            <tracked>0</tracked>
            <value>,&#10;  actualParameter =&gt; [&#10;    {actualParameterName =&gt; "ec_FE App-version", value =&gt; "2.0.0"},&#10;    {actualParameterName =&gt; "ec_Schema-version", value =&gt; "2.0.0"},&#10;    {actualParameterName =&gt; "ec_smartDeployOption", value =&gt; "0"},&#10;  ]&#10;</value>
          </property>
          <property>
            <propertyName>process</propertyName>
            <counter>0</counter>
            <expandable>1</expandable>
            <tracked>0</tracked>
            <value>Deploy</value>
          </property>
          <property>
            <propertyName>project</propertyName>
            <counter>0</counter>
            <expandable>1</expandable>
            <tracked>0</tracked>
            <value>Default</value>
          </property>
        </actualParameters>
        <propertySheet>
          <tracked>0</tracked>
        </propertySheet>
      </step>
      <step>
        <stepName>deploy_to_prod</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <condition></condition>
        <description></description>
        <errorHandling>abortProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <parallel>0</parallel>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <subprocedure>RunProcess</subprocedure>
        <subproject></subproject>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <tracked>0</tracked>
        <workspaceName></workspaceName>
        <actualParameters>
          <tracked>0</tracked>
          <property>
            <propertyName>abort_delete</propertyName>
            <counter>0</counter>
            <expandable>1</expandable>
            <tracked>0</tracked>
            <value>0</value>
          </property>
          <property>
            <propertyName>application</propertyName>
            <counter>0</counter>
            <expandable>1</expandable>
            <tracked>0</tracked>
            <value>Store Front</value>
          </property>
          <property>
            <propertyName>environment</propertyName>
            <counter>0</counter>
            <expandable>1</expandable>
            <tracked>0</tracked>
            <value>SFPROD</value>
          </property>
          <property>
            <propertyName>parameters</propertyName>
            <counter>0</counter>
            <expandable>1</expandable>
            <tracked>0</tracked>
            <value>,&#10;  actualParameter =&gt; [&#10;    {actualParameterName =&gt; "ec_FE App-version", value =&gt; "1.0.0"},&#10;    {actualParameterName =&gt; "ec_Schema-version", value =&gt; "1.0.0"},&#10;    {actualParameterName =&gt; "ec_smartDeployOption", value =&gt; "0"},&#10;  ]&#10;</value>
          </property>
          <property>
            <propertyName>process</propertyName>
            <counter>0</counter>
            <expandable>1</expandable>
            <tracked>0</tracked>
            <value>Deploy</value>
          </property>
          <property>
            <propertyName>project</propertyName>
            <counter>0</counter>
            <expandable>1</expandable>
            <tracked>0</tracked>
            <value>Default</value>
          </property>
        </actualParameters>
        <propertySheet>
          <tracked>0</tracked>
        </propertySheet>
      </step>
      <step>
        <stepName>create_snapshots</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>ectool deleteSnapshot Default "Store Front" "Release 1.0.0"&#10;ectool createSnapshot Default "Store Front" "Release 1.0.0" --environmentName SFPROD&#10;ectool deleteSnapshot Default "Store Front" "Release 2.0.0"&#10;ectool createSnapshot Default "Store Front" "Release 2.0.0" --environmentName SFQA</command>
        <condition></condition>
        <description></description>
        <errorHandling>abortProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell></shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <tracked>0</tracked>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
          <tracked>0</tracked>
        </propertySheet>
      </step>
      <step>
        <stepName>create_ticket_live</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <condition>$[service_now]</condition>
        <description></description>
        <errorHandling>abortProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <parallel>0</parallel>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <subprocedure>demo-IT-createTicket</subprocedure>
        <subproject>ServiceNow</subproject>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <tracked>0</tracked>
        <workspaceName></workspaceName>
        <propertySheet>
          <tracked>0</tracked>
        </propertySheet>
      </step>
      <step>
        <stepName>create_ticket_link</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>ln -sf /opt/electriccloud/electriccommander/apache/htdocs/demo/serviceNowOpen.jpg /opt/electriccloud/electriccommander/apache/htdocs/demo/serviceNow.jpg&#10;ectool --silent setProperty "/myJob/report-urls/ServiceNow Ticket" "https:/demo/serviceNow.jpg"</command>
        <condition>$[/javascript myJob.service_now == "0"]</condition>
        <description></description>
        <errorHandling>abortProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell></shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <tracked>0</tracked>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
          <tracked>0</tracked>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>SetupUseCase_IT_DE</procedureName>
      <description></description>
      <jobNameTemplate></jobNameTemplate>
      <resourceName></resourceName>
      <timeLimit></timeLimit>
      <timeLimitUnits>minutes</timeLimitUnits>
      <tracked>0</tracked>
      <workspaceName></workspaceName>
      <propertySheet>
        <tracked>0</tracked>
      </propertySheet>
      <step>
        <stepName>Setup and Create Dynamic Environment Template</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>cd /vagrant/demo/dynamicEnvironments&#10;ectool evalDsl --dslFile dynamicEnvironment.groovy</command>
        <condition></condition>
        <description></description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell></shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <tracked>0</tracked>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
          <tracked>0</tracked>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>SetupUseCase_RM</procedureName>
      <description>Run this procedure to setup your system for the release manager (RM) use case.  It will do all necessary setup tasks like standing up databases, creating homepage shortcuts, and so on.</description>
      <jobNameTemplate>setup_rm_$[/increment /server/ec_counters/jobCounter]_$[/timestamp yyyyMMddHHmmss]</jobNameTemplate>
      <resourceName></resourceName>
      <timeLimit></timeLimit>
      <timeLimitUnits>minutes</timeLimitUnits>
      <tracked>0</tracked>
      <workspaceName></workspaceName>
      <propertySheet>
        <tracked>0</tracked>
      </propertySheet>
      <step>
        <stepName>start_jboss</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <condition></condition>
        <description></description>
        <errorHandling>abortProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <parallel>0</parallel>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <subprocedure>SwitchAppServer</subprocedure>
        <subproject></subproject>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <tracked>0</tracked>
        <workspaceName></workspaceName>
        <actualParameters>
          <tracked>0</tracked>
          <property>
            <propertyName>application_server</propertyName>
            <counter>0</counter>
            <expandable>1</expandable>
            <tracked>0</tracked>
            <value>jboss</value>
          </property>
        </actualParameters>
        <propertySheet>
          <tracked>0</tracked>
        </propertySheet>
      </step>
      <step>
        <stepName>delete_existing</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>use strict;&#10;use ElectricCommander ();&#10;$| = 1;&#10;my $ec = new ElectricCommander-&gt;new();&#10;&#10;$ec-&gt;deleteApplication("Default", "User Portal");&#10;$ec-&gt;deleteEnvironment("Default", "UPDEV");&#10;$ec-&gt;deleteEnvironment("Default", "UPQA");&#10;</command>
        <condition></condition>
        <description></description>
        <errorHandling>abortProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <tracked>0</tracked>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
          <tracked>0</tracked>
        </propertySheet>
      </step>
      <step>
        <stepName>create_resources</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>use strict;&#10;use ElectricCommander ();&#10;$| = 1;&#10;my $ec = new ElectricCommander-&gt;new();&#10;&#10;my @resources = ("updev_jboss", "updev_mysql", "upqa_jboss", "upqa_mysql");&#10;foreach my $resource (@resources) {&#10;	$ec-&gt;deleteResource($resource);&#10;	$ec-&gt;createResource($resource, {hostName=&gt;"localhost",stepLimit=&gt;1});&#10;}&#10;</command>
        <condition></condition>
        <description></description>
        <errorHandling>abortProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <tracked>0</tracked>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
          <tracked>0</tracked>
        </propertySheet>
      </step>
      <step>
        <stepName>add_databases</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>for db in UPDEV UPQA&#10;do&#10;&#10;	/usr/local/mysql/bin/mysql -u root --password=flow -e 'show databases;' | grep $db &amp;&amp; /usr/local/mysql/bin/mysql -u root --password=flow -e "drop database $db;" || echo $db does not exist&#10;&#10;	/usr/local/mysql/bin/mysql -u root --password=flow -e "create database $db;"&#10;&#10;	/usr/local/mysql/bin/mysql -u root --password=flow -e "&#10;	use $db;&#10;	CREATE TABLE _meta (version int);&#10;	INSERT INTO _meta VALUES(1);&#10;	SELECT version FROM _meta;&#10;	"&#10;&#10;	/usr/local/mysql/bin/mysql -u root --password=flow -e "&#10;	use $db;&#10;	CREATE TABLE merchandise&#10;	 (&#10;	name varchar(255),&#10;	type varchar(255),&#10;	price int(255)&#10;	 );&#10;	INSERT INTO merchandise VALUES(\"Bookend\",\"Wood\",1250);&#10;	SELECT * FROM merchandise;&#10;	"&#10;&#10;done</command>
        <condition></condition>
        <description></description>
        <errorHandling>abortProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell></shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <tracked>0</tracked>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
          <tracked>0</tracked>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>SwitchAppServer</procedureName>
      <description>Keep the system memory under control by only allowing one application server to run at a time.</description>
      <jobNameTemplate>switch_app_server_$[/increment /server/ec_counters/jobCounter]_$[/timestamp yyyyMMddHHmmss]</jobNameTemplate>
      <resourceName></resourceName>
      <timeLimit></timeLimit>
      <timeLimitUnits>minutes</timeLimitUnits>
      <tracked>0</tracked>
      <workspaceName></workspaceName>
      <propertySheet>
        <tracked>0</tracked>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <tracked>0</tracked>
          <propertySheet>
            <tracked>0</tracked>
            <property>
              <propertyName>parameters</propertyName>
              <tracked>0</tracked>
              <propertySheet>
                <tracked>0</tracked>
                <property>
                  <propertyName>application_server</propertyName>
                  <tracked>0</tracked>
                  <propertySheet>
                    <tracked>0</tracked>
                    <property>
                      <propertyName>options</propertyName>
                      <tracked>0</tracked>
                      <propertySheet>
                        <tracked>0</tracked>
                        <property>
                          <propertyName>list</propertyName>
                          <counter>0</counter>
                          <expandable>1</expandable>
                          <tracked>0</tracked>
                          <value>jboss|tomcat</value>
                        </property>
                        <property>
                          <propertyName>type</propertyName>
                          <counter>0</counter>
                          <expandable>1</expandable>
                          <tracked>0</tracked>
                          <value>simpleList</value>
                        </property>
                      </propertySheet>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <counter>0</counter>
                      <expandable>1</expandable>
                      <tracked>0</tracked>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>application_server</formalParameterName>
        <defaultValue>jboss</defaultValue>
        <description></description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <tracked>0</tracked>
        <type>radio</type>
      </formalParameter>
      <step>
        <stepName>stop_jboss</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>sudo service wildfly stop</command>
        <condition>$[/javascript myParent.application_server != "jboss";]</condition>
        <description></description>
        <errorHandling>ignore</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell></shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <tracked>0</tracked>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
          <tracked>0</tracked>
        </propertySheet>
      </step>
      <step>
        <stepName>stop_tomcat</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>sudo -E /opt/apache-tomcat-7.0.57/bin/shutdown.sh</command>
        <condition>$[/javascript myParent.application_server != "tomcat";]</condition>
        <description></description>
        <errorHandling>ignore</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell></shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <tracked>0</tracked>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
          <tracked>0</tracked>
        </propertySheet>
      </step>
      <step>
        <stepName>start_jboss</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>sudo service wildfly start</command>
        <condition>$[/javascript myParent.application_server == "jboss";]</condition>
        <description></description>
        <errorHandling>ignore</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell></shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <tracked>0</tracked>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
          <tracked>0</tracked>
        </propertySheet>
      </step>
      <step>
        <stepName>start_tomcat</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>sudo -E /opt/apache-tomcat-7.0.57/bin/startup.sh</command>
        <condition>$[/javascript myParent.application_server == "tomcat";]</condition>
        <description></description>
        <errorHandling>ignore</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell></shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <tracked>0</tracked>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
          <tracked>0</tracked>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>WaitForApp</procedureName>
      <description>Wait for an application to come up after being deployed.</description>
      <jobNameTemplate>wait_for_app_$[/increment /server/ec_counters/jobCounter]_$[/timestamp yyyyMMddHHmmss]</jobNameTemplate>
      <resourceName></resourceName>
      <timeLimit></timeLimit>
      <timeLimitUnits>minutes</timeLimitUnits>
      <tracked>0</tracked>
      <workspaceName></workspaceName>
      <propertySheet>
        <tracked>0</tracked>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <tracked>0</tracked>
          <propertySheet>
            <tracked>0</tracked>
            <property>
              <propertyName>parameters</propertyName>
              <tracked>0</tracked>
              <propertySheet>
                <tracked>0</tracked>
                <property>
                  <propertyName>url</propertyName>
                  <tracked>0</tracked>
                  <propertySheet>
                    <tracked>0</tracked>
                    <property>
                      <propertyName>formType</propertyName>
                      <counter>0</counter>
                      <expandable>1</expandable>
                      <tracked>0</tracked>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>url</formalParameterName>
        <defaultValue></defaultValue>
        <description></description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <tracked>0</tracked>
        <type>entry</type>
      </formalParameter>
      <step>
        <stepName>wait_for_app</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>use strict;&#10;use warnings;&#10;&#10;my $url = "https://localhost/$[url]";&#10;&#10;sub main&#10;{&#10;        my $response = qx(wget $url --no-check-certificate 2&gt;&amp;1);&#10;        #print $response,"\n";&#10;&#10;        if ($response =~ /200 OK/s) {&#10;                print "Application running\n"&#10;                }&#10;        else {&#10;                print "Application not ready\n" . "\n";&#10;                sleep 10;&#10;                main();&#10;        }&#10;}&#10;&#10;main();</command>
        <condition></condition>
        <description></description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell>ec-perl</shell>
        <timeLimit>90</timeLimit>
        <timeLimitUnits>seconds</timeLimitUnits>
        <tracked>0</tracked>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
          <tracked>0</tracked>
        </propertySheet>
      </step>
    </procedure>
  </project>
</exportedData>
